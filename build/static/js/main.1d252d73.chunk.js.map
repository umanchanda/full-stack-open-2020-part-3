{"version":3,"sources":["components/Person.js","components/ErrorMessage.js","components/SuccessMessage.js","services/persons.js","App.js","index.js"],"names":["Person","props","name","number","onClick","deletePerson","ErrorMessage","message","className","SuccessMessage","baseUrl","axios","get","newObject","post","id","delete","put","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","setMessage","errorMessage","setErrorMessage","useEffect","personService","then","response","data","namesToShow","person","toLowerCase","includes","value","onChange","event","target","onSubmit","preventDefault","personObject","length","some","find","window","confirm","map","catch","error","concat","type","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1d252d73.chunk.js","sourcesContent":["import React from 'react';\n\nconst Person = (props) => {\n  return (\n    <li>{props.name} {props.number} <button onClick={props.deletePerson}>delete</button></li>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst ErrorMessage = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  \n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default ErrorMessage","import React from 'react'\n\nconst SuccessMessage = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nexport default SuccessMessage","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst deleteObject = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, deleteObject, update }","import React, { useState, useEffect } from 'react';\nimport Person from './components/Person'\nimport ErrorMessage from './components/ErrorMessage'\nimport SuccessMessage from './components/SuccessMessage'\nimport personService from './services/persons'\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')  \n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ message, setMessage ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1\n    }\n\n    const isPresent = persons.some(person => person.name.includes(newName));\n    \n    if (isPresent) {\n      const person = persons.find(person => person.name === newName)\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const id = person.id\n        personService\n          .update(id, { ...person, number: newNumber })\n          .then(response => {\n            setPersons(persons.map(person => person.id !== id ? person : response.data))\n            setMessage(`Modified ${newName}`);\n          })\n          .catch((error) => {\n            setErrorMessage(`Error modifying ${newName}`)\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setMessage(`Added ${newName}`)\n        })\n        .catch((error) => {\n          setErrorMessage(`Error adding ${newName}`)\n        })\n    }\n    \n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = (id, name) => {\n    return() => {\n      if (window.confirm(`Delete ${name}?`)) {\n        personService\n          .deleteObject(id)\n          .then(response => {\n            setPersons(persons.filter(person => person.id !== response.data))\n            setMessage(`Deleted ${name}`)\n          })\n          .catch((error) => {\n            setErrorMessage(`Information of ${name} has already been removed from server`)\n          })\n      }\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  \n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const namesToShow = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n  \n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <ErrorMessage message={errorMessage} />\n      <SuccessMessage message={message} />\n      <div>filter show with <input value={filter} onChange={handleFilterChange}/></div>\n\n      <h2>add a  new</h2>\n      <form onSubmit={addNewPerson}>\n        <div>name: <input value={newName} onChange={handleNameChange}/></div>\n        <div>number: <input value={newNumber} onChange={handleNumberChange}/></div>\n        <div><button type=\"submit\">add</button></div>\n      </form>\n\n      <h2>Numbers</h2>\n      <ul>{namesToShow.map(person => <Person key={person.id} name={person.name} number={person.number} deletePerson={deletePerson(person.id, person.name)}/>)}</ul>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}