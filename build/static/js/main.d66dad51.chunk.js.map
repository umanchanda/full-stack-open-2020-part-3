{"version":3,"sources":["components/Person.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","props","name","number","onClick","deletePerson","Notification","notification","className","type","message","baseUrl","axios","get","newObject","post","id","delete","put","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","setNotification","notifyWith","setTimeout","useEffect","personService","then","response","data","namesToShow","person","toLowerCase","includes","value","onChange","event","target","onSubmit","preventDefault","personObject","length","some","find","window","confirm","map","catch","error","concat","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d66dad51.chunk.js","sourcesContent":["import React from 'react';\n\nconst Person = (props) => {\n  return (\n    <li>{props.name} {props.number} <button onClick={props.deletePerson}>delete</button></li>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst Notification = ({ notification }) => {\n  if (notification === null) {\n    return null;\n  }\n  \n  return (\n    <div className={notification.type}>\n      {notification.message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst deleteObject = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, deleteObject, update }","import React, { useState, useEffect } from 'react';\nimport Person from './components/Person'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')  \n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n\n  const notifyWith = (message, type) => {\n    setNotification({ message, type })\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1\n    }\n\n    const isPresent = persons.some(person => person.name.includes(newName));\n    \n    if (isPresent) {\n      const person = persons.find(person => person.name === newName)\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const id = person.id\n        personService\n          .update(id, { ...person, number: newNumber })\n          .then(response => {\n            setPersons(persons.map(person => person.id !== id ? person : response.data))\n            notifyWith(`Modified ${newName}`, 'success');\n          })\n          .catch((error) => {\n            notifyWith(`${error.response.data.error}`, 'error')\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          notifyWith(`Added ${newName}`, 'success')\n        })\n        .catch((error) => {\n          notifyWith(`${error.response.data.error}`, 'error')\n        })\n    }\n    \n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = (id, name) => {\n    return() => {\n      if (window.confirm(`Delete ${name}?`)) {\n        personService\n          .deleteObject(id)\n          .then(response => {\n            setPersons(persons.filter(person => person.id !== response.data))\n            notifyWith(`Deleted ${name}`, 'success')\n          })\n          .catch((error) => {\n            notifyWith(`Information of ${name} has already been removed from server`, 'error')\n          })\n      }\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  \n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const namesToShow = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n  \n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification notification={notification} />\n      <div>filter show with <input value={filter} onChange={handleFilterChange}/></div>\n\n      <h2>add a  new</h2>\n      <form onSubmit={addNewPerson}>\n        <div>name: <input value={newName} onChange={handleNameChange}/></div>\n        <div>number: <input value={newNumber} onChange={handleNumberChange}/></div>\n        <div><button type=\"submit\">add</button></div>\n      </form>\n\n      <h2>Numbers</h2>\n      <ul>{namesToShow.map(person => <Person key={person.id} name={person.name} number={person.number} deletePerson={deletePerson(person.id, person.name)}/>)}</ul>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}